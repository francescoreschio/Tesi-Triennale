\chapter{Proprietà dei candidati muoni:}
\label{cap:SecondoCapitolo}

Nella Sezione \ref{sec:SistemaDiTrigger} si è discusso nel dettaglio del sistema di Trigger Level 1 di CMS e di come questo giochi un ruolo fondamentale nella selezione di eventi interessanti a seguito della collisione tra protoni, riducendo il volume di dati da analizzare. In particolare le informazioni provenienti dai detector locali del sistema muonico nella regione di barrel vengono combinate e processate dalle schede \textbf{TwinMux}, generando \textit{superprimitives}, o stubs, con una risoluzione temporale e spaziale elevata. Le superprimitives vengono poi utilizzate dal sistema di tracking nella zona di barrel (BMTF) per ricostruire la traccia del candidato muone.

Inoltre nella Sezione \ref{sec:DataScouting} si è introdotto il sistema di Data Scouting impiegato durante la Run 3 nel L1T che permette di analizzare, seppur con una minore risoluzione, eventi unbiased che verrebbero potenzialmente rigettati dal sistema di Trigger. In questo capitolo si procederà con lo studio e la validazione dei dati ottenuti dal sistema di Data Scouting, che raccoglie informazioni impiegando schede di acquisizione in vari step della catena di Trigger, in particolare a livello degli input del Barrel Muon Track Finder, del Global Muon Trigger e del Global Trigger.


\section{Validazione superprimitives}

Tra la Run 1 e la Run 2, sono state introdotte nel sistema di Trigger L1 le schede TwinMux nella catena di Trigger: queste hanno il compito di generare superprimitives (da questo momento in poi \textit{stubs}) a partire dai segnali in input derivanti da Drift Tubes e Resistive Plate Chambers. \newline
In particolare vengono applicati algoritmi di clustering ai dati in input alle schede, convertendo i segnali spaziali delle RPC nelle coordinate dei DT. Se i segnali provenienti dai due rilevatori sono compatibili, ovvero se $\Delta \phi < 15$ \si{mrad}, allora vengono combinati. Nel dettaglio i rilevatori DT forniscono informazioni sulla posizione, direzione, qualità e Bunch Crossing (BX) ad un rate di 480Mb/s, mentre le RPC sulla posizione e sul BX con un rate di 1.6Gb/s.\newline
Il sistema TwinMux può costruire fino a 2 stubs per stazione; queste vengono poi inviate al BMTF e, in base alla posizione nel piano della pseudorapidità, all' OMTF. \newline
È inoltre funzione delle schede TwinMux assegnare dei \textit{parametri} a ciascuna stub generata: a partire da queste informazioni il BMTF ricostruisce la traccia del muone, determinando la traiettoria della particella. I parametri che vengono assegnati ad ogni stub riguardano la posizione spaziale nel CMS, l'angolo di curvatura relativo alla stazione e la qualità della stub. Questi vengono riassunti nella Tabella \ref{table:StubsParam}.

Questa sezione è il primo passo alla validazione del sistema di Data Scouting introdotto con la Run 3 nel L1T: vengono studiate le stubs, ovvero i segnali di ingresso al BMTF. In particolare verranno utilizzati 1 minuto e 32 secondi di presa dati, corrispondenti a circa $1.1 \times 10^{6}$ stubs. 

Come illustrato nella Sezione \ref{sec:LHC} in LHC circolano fasci di protoni che collidono nei punti di interazione dove sono presenti i principali esperimenti. Per ottimizzare e massimizzare le collisioni nei punti di interazione i pacchetti di protoni vengono disposti in modo specifico, facendo in modo che ogni fascio può contenere al massimo 2808 pacchetti di protoni, nonostante ci siano 3564 posizioni disponibili lungo l'anello di LHC. La disposizione dei pacchetti di protoni nei fasci è chiamata \textit{filling scheme} e generalmente questa può variare in base all'esperimento. Durante la Run 3 il filling scheme utilizzato è mostrato in Figura \ref{fig:Stubs1}, formato da 39 gruppi da 72 pacchetti di protoni a distanza 25ns l'uno dall'altro\cite{Bailey}. \newline
Si nota come il rate di stubs non è mai nullo e vi sia sempre un fondo costante di eventi. Questo fenomeno è da attribuire alla presenza di eventi di background come muoni cosmici, che vengono rilevati dai detector di CMS e vengono trattati, almeno in prima analisi, come muoni generati dalla collisione di protoni.



 \begin{figure}[t]
   \centering
   \begin{minipage}[b]{0.49\textwidth}
       \centering
       \includegraphics[width=\textwidth]{../Immagini/StubsBXnumber.pdf} 
     \end{minipage}
     \hfill 
     \begin{minipage}[b]{0.49\textwidth}
       \centering
       \includegraphics[width=\textwidth]{../Immagini/StubsBXnumberZoom.pdf} 
   \end{minipage}
   \caption{Filling scheme per la Run 3: disposizione dei pacchetti di protoni nelle 3564 possibili posizioni }
   \label{fig:Stubs1}
 \end{figure}


 Viene inoltre studiata la distribuzione di stubs per Bunch Crossing (BX) e per Orbita (orbit). In Figura \ref{fig:StubsMolteplicity} viene mostrato il numero di stubs raccolte in un BX, ovvero ogni 25ns, mentre in Figura \ref{fig:StubsPerOrbit} è rappresentato il numero di stubs raccolte in ogni orbita, ovvero un ciclo completo di LHC. Ogni orbita è formata da 3564 BX, ovvero circa 89 $\mu$s. \newline
 È importante sottolineare che la maggior parte dei BX non contiene nessuna stubs, anche se questa informazione non è mostrata nell'immagine. Inoltre vi sono eventi che presentano un numero di stub raccolte per BX maggiore di 13, ma la frequenza di questi eventi è minore di 0.1 al secondo e per tanto non sono mostrati. \newline
 Rappresentato su scala logaritmica, la distribuzione di stubs per orbita segue una distribuzione gaussiana centrata su 230 stubs. 

  \begin{figure}[h]
    \centering
    \begin{minipage}[b]{0.49\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../Immagini/StubsMolteplicity.pdf} 
        \caption{Stubs multiplicity per BX}
        \label{fig:StubsMolteplicity}
      \end{minipage}
      \hfill 
      \begin{minipage}[b]{0.49\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../Immagini/StubsPerOrbit.pdf} 
        \caption{Stubs multiplicity per orbit}
        \label{fig:StubsPerOrbit}
    \end{minipage}
  \end{figure}

  Infine viene rappresentata la distribuzione spaziale di stubs nel corpo di CMS in Figura \ref{fig:StubsInCMS} per verificare se vi sono anormalità nel sistema di acquisizione dati. Come specificato in Sezione \ref{sec:CMSDescrizione} e Figura \ref{fig:SectorEtaView}, CMS è formato da cinque ruote (\textit{wheel}), ognuna suddivisa in dodici settori (\textit{sector}) a loro volta contenenti quattro stazioni (\textit{station}). Convenzionalmente le wheel sono nominate da -2 a 2, dove 0 rappresenta la ruota in corrispondenza al punto di collisione dei protoni (origine degli assi), i sector sono nominati da 0 a 11 e le stazioni da 1 a 4. La Figura \ref{fig:StubsInCMS} mostra quindi la distribuzione spaziale delle stubs: a sinistra notiamo una più alta densità di stubs nelle wheel $\pm$ 1, mentre una minore porzione di eventi vengono raccolti nelle wheel $\pm$ 2. Questo è dovuto al fatto che in corrispondenza di queste wheel ci troviamo nella regione ad alta pseudorapidità e per tanto vicini alla regione di \textit{overlap}: gli eventi in questa regione è probabile che vengano raccolti dal OMTF e dunque schermati al BMTF. Nella figura di destra invece notiamo una maggiore densità in corrispondenza della prima stazione per le wheel $\pm$ 1, mentre vi è una completa assenza di eventi nella stessa stazione per le wheel $\pm$ 2. Questo difetto è attualmente noto e si verifica poiché stubs in questa stazione vengono raccolte solamente dal sistema di tracking dell'overlap, non venendo lette dal BMTF.




  \begin{figure}[t]
    \centering
    \begin{minipage}[b]{0.49\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../Immagini/StubsSectorWheel.pdf} 
      \end{minipage}
      \hfill 
      \begin{minipage}[b]{0.49\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../Immagini/StubsStationWheel.pdf} 
      \end{minipage}
      \caption{Distribuzione stubs nel corpo di CMS come grafico bidimensionale}
    \label{fig:StubsInCMS}
  \end{figure}





 \renewcommand{\arraystretch}{1.25} % Aumenta lo spazio tra le righe
 \begin{table}[h!]
  \caption{Descrizione dei parametri assegnati dal TwinMux a ciascuna stub}
  \label{table:StubsParam}
   \centering
   \begin{tabular}{cccl}
   \toprule
   \textbf{Parameter} & \textbf{Bits} & \textbf{Range} & \textbf{Description} \\ \hline
   $\phi$            & 12  & [$-2048$, 2047]   & Relative position of a segment inside a sector \\ \hline
   $\phi_b$          & 10  & [$-512$, 511]     & Bending angle \\ \hline
   \textit{quality}  & 3   & [0, 7]            & Number of superlayers used to construct the stub \\ \hline
   $\eta$ hits       & 7   & "pattern"         & \begin{tabular}[c]{@{}l@{}} Each bit corresponds to one chamber area \\ 0 : no hit (less than 3 SL hits) \\ 1 : hit (3 or 4 SL hits) \end{tabular} \\ \hline
   $\eta$ quality    & 7   & "pattern"         & \begin{tabular}[c]{@{}l@{}} Each bit corresponds to one chamber area \\ 0 : 3 SL hits \\ 1 : 4 SL hits \end{tabular} \\ 
   \bottomrule
   \end{tabular}
   
 \end{table}


\section{Validazione dell'emulatore Barrel Muon Track Finder}

\section{Validazione Global Muon Trigger}

